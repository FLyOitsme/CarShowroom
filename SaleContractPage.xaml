<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CarShowroom.SaleContractPage"
             Title="Договор купли-продажи"
             BackgroundColor="White">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">
            <!-- Заголовок -->
            <Label 
                Text="ДОГОВОР КУПЛИ-ПРОДАЖИ АВТОМОБИЛЯ"
                FontSize="20"
                FontAttributes="Bold"
                HorizontalOptions="Center"
                TextColor="{StaticResource Black}"
                Margin="0,0,0,10" />

            <!-- Дата договора -->
            <Border 
                StrokeThickness="1"
                Stroke="{StaticResource Gray200}"
                BackgroundColor="{StaticResource Gray100}"
                StrokeShape="RoundRectangle 8"
                Padding="16">
                <VerticalStackLayout Spacing="12">
                    <Label 
                        Text="Дата договора"
                        FontSize="16"
                        FontAttributes="Bold"
                        TextColor="{StaticResource Black}" />
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <DatePicker 
                            x:Name="ContractDatePicker"
                            Date="{Binding ContractDate}"
                            Format="dd.MM.yyyy"
                            TextColor="{StaticResource Black}" />
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- Информация об автомобиле -->
            <Border 
                StrokeThickness="2"
                Stroke="{StaticResource AdobeAccent}"
                BackgroundColor="{StaticResource Gray100}"
                StrokeShape="RoundRectangle 8"
                Padding="16">
                <VerticalStackLayout Spacing="12">
                    <Label 
                        Text="Информация об автомобиле"
                        FontSize="16"
                        FontAttributes="Bold"
                        TextColor="{StaticResource Black}" />
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="CarBrandEntry"
                            Placeholder="Марка *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="CarModelEntry"
                            Placeholder="Модель *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="CarYearEntry"
                            Placeholder="Год выпуска *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}"
                            Keyboard="Numeric" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="CarVinEntry"
                            Placeholder="VIN номер *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="CarEngineNumberEntry"
                            Placeholder="Номер двигателя *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="CarBodyNumberEntry"
                            Placeholder="Номер кузова *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="CarColorEntry"
                            Placeholder="Цвет *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                    <Entry 
                        x:Name="CarRegistrationNumberEntry"
                        Placeholder="Государственный номер (необязательно)"
                        PlaceholderColor="{StaticResource Gray500}"
                        TextColor="{StaticResource Black}" />
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- Продавец (юридическое лицо) -->
            <Border 
                StrokeThickness="2"
                Stroke="{StaticResource AdobeAccent}"
                BackgroundColor="{StaticResource Gray100}"
                StrokeShape="RoundRectangle 8"
                Padding="16">
                <VerticalStackLayout Spacing="12">
                    <Label 
                        Text="Продавец (юридическое лицо)"
                        FontSize="16"
                        FontAttributes="Bold"
                        TextColor="{StaticResource Black}" />
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="SellerCompanyNameEntry"
                            Placeholder="Наименование организации *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="SellerInnEntry"
                            Placeholder="ИНН *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}"
                            Keyboard="Numeric" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="SellerOgrnEntry"
                            Placeholder="ОГРН *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}"
                            Keyboard="Numeric" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Editor 
                            x:Name="SellerAddressEditor"
                            Placeholder="Юридический адрес *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}"
                            HeightRequest="80" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="SellerDirectorNameEntry"
                            Placeholder="ФИО директора *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="SellerDirectorPositionEntry"
                            Placeholder="Должность директора *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- Покупатель -->
            <Border 
                StrokeThickness="2"
                Stroke="{StaticResource AdobeAccent}"
                BackgroundColor="{StaticResource Gray100}"
                StrokeShape="RoundRectangle 8"
                Padding="16">
                <VerticalStackLayout Spacing="12">
                    <Label 
                        Text="Покупатель"
                        FontSize="16"
                        FontAttributes="Bold"
                        TextColor="{StaticResource Black}" />
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="BuyerFullNameEntry"
                            Placeholder="ФИО полностью *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                    
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                        <Border
                            Grid.Column="0"
                            StrokeThickness="1"
                            Stroke="{StaticResource Gray300}"
                            BackgroundColor="White"
                            StrokeShape="RoundRectangle 4"
                            Padding="12,8">
                            <Entry 
                                x:Name="BuyerPassportSeriesEntry"
                                Placeholder="Серия паспорта *"
                                PlaceholderColor="{StaticResource Gray500}"
                                TextColor="{StaticResource Black}" />
                        </Border>
                        <Border
                            Grid.Column="1"
                            StrokeThickness="1"
                            Stroke="{StaticResource Gray300}"
                            BackgroundColor="White"
                            StrokeShape="RoundRectangle 4"
                            Padding="12,8">
                            <Entry 
                                x:Name="BuyerPassportNumberEntry"
                                Placeholder="Номер паспорта *"
                                PlaceholderColor="{StaticResource Gray500}"
                                TextColor="{StaticResource Black}" />
                        </Border>
                    </Grid>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="BuyerPassportIssuedByEntry"
                            Placeholder="Кем выдан *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Editor 
                            x:Name="BuyerAddressEditor"
                            Placeholder="Адрес регистрации *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}"
                            HeightRequest="80" />
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- Условия сделки -->
            <Border 
                StrokeThickness="2"
                Stroke="{StaticResource AdobeAccent}"
                BackgroundColor="{StaticResource Gray100}"
                StrokeShape="RoundRectangle 8"
                Padding="16">
                <VerticalStackLayout Spacing="12">
                    <Label 
                        Text="Условия сделки"
                        FontSize="16"
                        FontAttributes="Bold"
                        TextColor="{StaticResource Black}" />
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Entry 
                            x:Name="SalePriceEntry"
                            Placeholder="Цена продажи (₽) *"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}"
                            Keyboard="Numeric" />
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Picker 
                            x:Name="PaymentMethodPicker"
                            Title="Способ оплаты *"
                            TextColor="{StaticResource Black}"
                            TitleColor="{StaticResource Gray500}">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:String}">
                                    <x:String>Наличные</x:String>
                                    <x:String>Банковский перевод</x:String>
                                    <x:String>Банковская карта</x:String>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                    </Border>
                    
                    <Border
                        StrokeThickness="1"
                        Stroke="{StaticResource Gray300}"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 4"
                        Padding="12,8">
                        <Editor 
                            x:Name="AdditionalTermsEditor"
                            Placeholder="Дополнительные условия"
                            PlaceholderColor="{StaticResource Gray500}"
                            TextColor="{StaticResource Black}"
                            HeightRequest="100" />
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- Подписи -->
            <Border 
                StrokeThickness="1"
                Stroke="{StaticResource Gray200}"
                BackgroundColor="{StaticResource Gray100}"
                StrokeShape="RoundRectangle 8"
                Padding="16">
                <VerticalStackLayout Spacing="12">
                    <Label 
                        Text="Подписи сторон"
                        FontSize="16"
                        FontAttributes="Bold"
                        TextColor="{StaticResource Black}" />
                    
                    <Grid ColumnDefinitions="Auto,*" ColumnSpacing="10">
                        <CheckBox 
                            x:Name="SellerSignedCheckBox"
                            Grid.Column="0"
                            IsChecked="False" />
                        <Label 
                            Grid.Column="1"
                            Text="Продавец ознакомлен и согласен"
                            VerticalOptions="Center"
                            TextColor="{StaticResource Black}" />
                    </Grid>
                    
                    <Grid ColumnDefinitions="Auto,*" ColumnSpacing="10">
                        <CheckBox 
                            x:Name="BuyerSignedCheckBox"
                            Grid.Column="0"
                            IsChecked="False" />
                        <Label 
                            Grid.Column="1"
                            Text="Покупатель ознакомлен и согласен"
                            VerticalOptions="Center"
                            TextColor="{StaticResource Black}" />
                    </Grid>
                </VerticalStackLayout>
            </Border>

            <!-- Кнопки -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="12" Margin="0,20,0,0">
                <Button 
                    x:Name="SaveContractButton"
                    Text="Сохранить договор"
                    BackgroundColor="{StaticResource AdobeAccent}"
                    TextColor="White"
                    Clicked="OnSaveContractClicked" />
                
                <Button 
                    x:Name="PrintContractButton"
                    Text="Превью договора"
                    BackgroundColor="{StaticResource Gray400}"
                    TextColor="White"
                    Clicked="OnPrintContractClicked" />
            </Grid>
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
